{
  "version": "1.0.0",
  "name": "3-Tier with Cloud Bursting",
  "icon_filename": "apache.png",
  "launch_servers": false,
  "resources": [
    {
      "id": "deployment_name",
      "resource_type": "text_product_input",
      "default_value": "3-Tier with Cloud Bursting",
      "input_name": "deployment_name",
      "display_name": "Deployment Name",
      "description": "The deployment name"
    },
    {
      "id": "cloud_1",
      "resource_type": "cloud_product_input",
      "default_value": "/api/clouds/1",
      "input_name": "cloud_1",
      "display_name": "Cloud",
      "description": "The cloud where your application runs steady-state"
    },
    {
      "id": "cloud_2",
      "resource_type": "cloud_product_input",
      "default_value": "/api/clouds/2",
      "input_name": "cloud_2",
      "display_name": "Burst Cloud",
      "description": "The cloud your application will burst into for additional capacity"
    },
    {
      "id": "app_tier_type",
      "resource_type": "select_product_input",
      "options": ["php","python","java","ruby"],
      "default_value": ["php"],
      "input_name": "app_tier_type",
      "display_name": "Application Tier Technology",
      "description": "The type of app server to use"
    },
    {
      "id": "db_tier_type",
      "resource_type": "select_product_input",
      "options": ["pgsql","mysql"],
      "default_value": ["mysql"],
      "input_name": "db_tier_type",
      "display_name": "Database Tier Technology",
      "description": "The type of database to use"
    },
    {
      "id": "haz_logging",
      "resource_type": "select_product_input",
      "options": ["true","false"],
      "default_value": ["true"],
      "input_name": "haz_logging",
      "display_name": "Log to rsyslog?",
      "description": "",
      "advanced": true
    },
    {
      "id": "haz_caching",
      "resource_type": "select_product_input",
      "options": ["true","false"],
      "default_value": ["true"],
      "input_name": "haz_caching",
      "display_name": "Enable Memcached?",
      "description": "",
      "advanced": true
    },
    {
      "id": "deployment",
      "resource_type": "deployment",
      "name": { "ref": "text_product_input", "id": "deployment_name" }
    },
    {
      "id": "rsyslog_template",
      "resource_type": "server_template",
      "name": "Logging with rsyslog Beta (v13.4)",
      "revision": "48",
      "publication_id": "52716"
    },
    {
      "id": "memcached_template",
      "resource_type": "server_template",
      "name": "Memcached Server Beta (v13.4)",
      "revision": "49",
      "publication_id": "52715"
    },
    {
      "id": "pgsql_db_template",
      "resource_type": "server_template",
      "name": "Database Manager for PostgreSQL 9.1 Beta (v13.4)",
      "revision": "56",
      "publication_id": "52713",
      "depends": {
        "ref": "text_product_input",
        "id": "db_tier_type",
        "value": ["pgsql"]
      }
    },
    {
      "id": "mysql_db_template",
      "resource_type": "server_template",
      "name": "Database Manager for MySQL 5.5 (v13.4)",
      "revision": "125",
      "publication_id": "52712",
      "depends": {
        "ref": "text_product_input",
        "id": "db_tier_type",
        "value": ["mysql"]
      }
    },
    {
      "id": "python_app_template",
      "resource_type": "server_template",
      "name": "Django App Server Beta (v13.4)",
      "revision": "60",
      "publication_id": "52709",
      "depends": {
        "ref": "text_product_input",
        "id": "app_tier_type",
        "value": ["python"]
      }
    },
    {
      "id": "java_app_template",
      "resource_type": "server_template",
      "name": "Tomcat7 App Server Beta (v13.4)",
      "revision": "63",
      "publication_id": "52708",
      "depends": {
        "ref": "text_product_input",
        "id": "app_tier_type",
        "value": ["java"]
      }
    },
    {
      "id": "ruby_app_template",
      "resource_type": "server_template",
      "name": "Passenger-Rails with Ruby 1.9 App Server (v13.4)",
      "revision": "14",
      "publication_id": "52706",
      "depends": {
        "ref": "text_product_input",
        "id": "app_tier_type",
        "value": ["ruby"]
      }
    },
    {
      "id": "php_app_template",
      "resource_type": "server_template",
      "name": "PHP App Server (v13.4)",
      "revision": "176",
      "publication_id": "52704",
      "depends": {
        "ref": "text_product_input",
        "id": "app_tier_type",
        "value": ["php"]
      }
    },
    {
      "id": "haproxy_template",
      "resource_type": "server_template",
      "name": "Load Balancer with HAProxy (v13.4)",
      "revision": "155",
      "publication_id": "52702"
    }
  ]
}